{% extends 'base.html' %}
{% block content %}
<div class="max-w-3xl mx-auto">
    <h2 class="text-2xl font-bold mb-6 text-center">Manage Organizations</h2>

    <!-- Form -->
    <div class="bg-white p-6 rounded-2xl shadow-md mb-8">
        <form method="post" class="space-y-4">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="bg-green-600 text-black px-4 py-2 rounded hover:bg-green-700">
                Add Organization
            </button>
        </form>
    </div>

    <!-- Display Organizations in Cards -->
    <div class="grid md:grid-cols-2 gap-4">
        {% for org in organizations %}
        <div class="bg-gray-100 p-4 rounded-2xl shadow">
            <h4 class="font-semibold text-lg">{{ org.name }}</h4>
            <p>Type: <b>{{ org.org_type }}</b></p>
            <div class="mt-2">
                <strong>Services:</strong>
                {% if org.services.all %}
                    <ul class="list-disc list-inside mt-1">
                        {% for service in org.services.all %}
                        <li class="text-sm">{{ service.name }} ({{ service.start_time }} - {{ service.end_time }})</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p class="text-red-500 text-sm">No services assigned yet</p>
                {% endif %}
            </div>
        </div>
        {% empty %}
        <p class="text-gray-600 text-center">No organizations available.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
